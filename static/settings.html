<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="referrer" content="no-referrer" />
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <title id="tab-title">SlowGuardian v9 - Settings</title>

    <!-- Favicon -->
    <link rel="shortcut icon" id="tab-favicon" href="favicon.png" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
      rel="stylesheet"
    />

    <!-- Styles -->
    <link rel="stylesheet" href="assets/styles/v9/reset.css" />
    <link rel="stylesheet" href="assets/styles/v9/variables.css" />
    <link rel="stylesheet" href="assets/styles/v9/main.css" />
    <link rel="stylesheet" href="assets/styles/v9/components.css" />
    <link rel="stylesheet" href="assets/styles/v9/animations.css" />
    <link rel="stylesheet" href="assets/styles/custom-dropdown.css" />
    <link rel="stylesheet" href="assets/styles/theme-creator.css" />
    <link rel="stylesheet" href="assets/styles/auth.css" />
    <link rel="stylesheet" href="assets/styles/admin.css" />
    <link rel="stylesheet" href="assets/styles/v9-improvements.css" />

    <!-- Progressive Web App -->
    <meta name="theme-color" content="#1a1a2e" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  </head>
  <body>
    <!-- Background -->
    <div class="background">
      <div class="bg-gradient"></div>
      <div class="bg-particles" id="particles"></div>
      <div class="bg-overlay"></div>
    </div>

    <!-- Navigation -->
    <nav class="navbar" id="navbar">
      <div class="nav-container">
        <div class="nav-brand">
          <span class="brand-icon">ğŸ›¡ï¸</span>
          <span class="brand-text">SlowGuardian</span>
          <span class="brand-version">v9</span>
        </div>

        <div class="nav-links">
          <a href="/" class="nav-link" data-page="home">
            <i class="icon">ğŸ </i>
            <span>Home</span>
          </a>
          <a href="/apps" class="nav-link" data-page="apps">
            <i class="icon">ğŸ“±</i>
            <span>Apps</span>
          </a>
          <a href="/games" class="nav-link" data-page="games">
            <i class="icon">ğŸ®</i>
            <span>Games</span>
          </a>
          <a href="/tabs" class="nav-link" data-page="tabs">
            <i class="icon">ğŸ—‚ï¸</i>
            <span>Tabs</span>
          </a>
          <a href="/settings" class="nav-link active" data-page="settings">
            <i class="icon">âš™ï¸</i>
            <span>Settings</span>
          </a>
          <a href="/developer" class="nav-link" data-page="developer">
            <i class="icon">ğŸ› ï¸</i>
            <span>Developer</span>
          </a>
        </div>

        <div class="nav-actions">
          <button class="btn-icon" id="theme-toggle" title="Toggle theme">
            <i class="icon">ğŸŒ™</i>
          </button>
          <button class="btn-icon" id="fullscreen-toggle" title="Toggle fullscreen">
            <i class="icon">â›¶</i>
          </button>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content" id="main-content">
      <section class="page active" id="page-settings">
        <div class="page-header">
          <h2 class="page-title">Settings</h2>
          <p class="page-subtitle">Customize your experience</p>
        </div>

        <div class="settings-container">
          <div class="settings-grid">
            <!-- Features Management -->
            <div class="card settings-card">
              <div class="card-header">
                <h3 class="card-title">ğŸš€ Features Management</h3>
                <p class="card-description">Customize your SlowGuardian experience with 100+ quality of life improvements</p>
              </div>
              <div class="settings-controls">
                <div class="features-preview">
                  <div class="feature-stats">
                    <div class="feature-stat">
                      <span class="stat-number" id="preview-enabled-count">0</span>
                      <span class="stat-label">Enabled</span>
                    </div>
                    <div class="feature-stat">
                      <span class="stat-number" id="preview-disabled-count">0</span>
                      <span class="stat-label">Disabled</span>
                    </div>
                    <div class="feature-stat">
                      <span class="stat-number">100</span>
                      <span class="stat-label">Total</span>
                    </div>
                  </div>
                  
                  <div class="feature-categories-preview">
                    <div class="category-preview">
                      <span class="category-name">User Experience</span>
                      <span class="category-count" id="ux-count">25 features</span>
                    </div>
                    <div class="category-preview">
                      <span class="category-name">Productivity</span>
                      <span class="category-count" id="productivity-count">25 features</span>
                    </div>
                    <div class="category-preview">
                      <span class="category-name">Customization</span>
                      <span class="category-count" id="customization-count">25 features</span>
                    </div>
                    <div class="category-preview">
                      <span class="category-name">Advanced</span>
                      <span class="category-count" id="advanced-count">25 features</span>
                    </div>
                  </div>
                </div>
                
                <button id="open-features-manager-btn" class="btn btn-primary btn-block">
                  ğŸ›ï¸ Open Features Manager
                </button>
              </div>
            </div>

            <!-- About:Blank -->
            <div class="card settings-card">
              <div class="card-header">
                <h3 class="card-title">About:Blank</h3>
                <p class="card-description">Cloak the site in an about:blank page and toggle about:blank on startup (enabled by default)</p>
              </div>
              <div class="settings-controls">
                <label class="switch">
                  <input type="checkbox" id="ab-settings-switch" class="slider-checkbox" />
                  <span class="switch-slider"></span>
                </label>
                <button id="ab-popup-btn" class="btn btn-secondary">Open Popup</button>
              </div>
            </div>

            <!-- Screenshot Protection -->
            <div class="card settings-card">
              <div class="card-header">
                <h3 class="card-title">ğŸ›¡ï¸ Screenshot Protection <span class="feature-badge disabled">Developer Only</span></h3>
                <p class="card-description">Advanced anti-surveillance system that shows spoofed content when screenshots are detected. This feature is only available in Developer Mode.</p>
              </div>
              <div class="settings-controls">
                <label class="switch disabled">
                  <input type="checkbox" id="screenshot-protection-switch" class="slider-checkbox" disabled />
                  <span class="switch-slider"></span>
                </label>
                <button id="test-protection-btn" class="btn btn-secondary" disabled>Test Protection</button>
                <div class="feature-notice">
                  <p>ğŸ”’ This feature requires Developer Mode access. Contact your administrator or access Developer Mode to enable screenshot protection.</p>
                </div>
              </div>
            </div>

            <!-- Panic Key -->
            <div class="card settings-card">
              <div class="card-header">
                <h3 class="card-title">Set Panic Key</h3>
                <p class="card-description">
                  Quickly open an educational site when the teacher comes. The panic link is also used to redirect you when
                  about:blank windows are opened. For multiple key strokes separate them with a comma. (e.g. "a, b, c")
                </p>
              </div>
              <div class="settings-controls">
                <input type="text" id="eventKeyInput" placeholder="Panic Keys (comma separated)" class="form-input" />
                <input class="form-input" placeholder="Panic Link" type="text" id="linkInput" />
                <button id="save-panic-key-btn" class="btn btn-primary">Save</button>
              </div>
            </div>

            <!-- Tab Cloaker -->
            <div class="card settings-card">
              <div class="card-header">
                <h3 class="card-title">Tab Cloaker</h3>
                <p class="card-description">Change the title and icon of the page.</p>
              </div>
              <div class="settings-controls">
                <select id="dropdown" class="form-select">
                  <option value="Classroom">Default</option>
                  <option value="Clever">Clever</option>
                  <option value="Canvas">Canvas</option>
                  <option value="Edpuzzle">Edpuzzle</option>
                  <option value="Google">Google</option>
                  <option value="Google Meet">Google Meet</option>
                  <option value="Classroom">Google Classroom</option>
                  <option value="Drive">Google Drive</option>
                  <option value="Google Docs">Google Docs</option>
                  <option value="Google Slides">Google Slides</option>
                  <option value="Gmail">Gmail</option>
                  <option value="Khan">Khan Academy</option>
                  <option value="Campus">Infinite Campus</option>
                  <option value="IXL">IXL</option>
                  <option value="LinkIt">LinkIt!</option>
                  <option value="Schoology">Schoology</option>
                  <option value="i-Ready Math">i-Ready Math</option>
                  <option value="i-Ready Reading">i-Ready Reading</option>
                  <option value="ClassLink Login">ClassLink Login</option>
                  <option value="Wikipedia">Wikipedia</option>
                  <option value="Britannica">Britannica</option>
                  <option value="Ducksters">Ducksters</option>
                  <option value="Minga">Minga</option>
                  <option value="i-Ready Learning Games">i-Ready Learning Games</option>
                  <option value="NoRedInk Home">NoRedInk Home</option>
                  <option value="Newsela Binder">Newsela Binder</option>
                  <option value="Newsela Assignments">Newsela Assignments</option>
                  <option value="Newsela Home">Newsela Home</option>
                  <option value="PowerSchool Sign In">PowerSchool Sign In</option>
                  <option value="PowerSchool Grades and Attendance">PowerSchool Grades and Attendance</option>
                  <option value="PowerSchool Teacher Comments">PowerSchool Teacher Comments</option>
                  <option value="PowerSchool Standards Grades">PowerSchool Standards Grades</option>
                  <option value="PowerSchool Attendance">PowerSchool Attendance</option>
                  <option value="Nearpod">Nearpod</option>
                  <option value="StudentVUE">StudentVUE</option>
                  <option value="Quizlet Home">Quizlet Home</option>
                  <option value="Google Forms Locked Mode">Google Forms - Locked Mode</option>
                  <option value="DeltaMath">DeltaMath</option>
                  <option value="Kami">Kami</option>
                  <option value="GoGuardian Admin Restricted">GoGuardian Admin Block</option>
                  <option value="GoGuardian Teacher Block">GoGuardian Teacher Block</option>
                  <option value="World History Encyclopedia">World History Encyclopedia</option>
                  <option value="Big Ideas Math">Big Ideas Math</option>
                  <option value="Big Ideas Math Assignment Player">Big Ideas Math Assignment Player</option>
                </select>
                <input class="form-input" type="text" id="icon" placeholder="Change Tab Icon" name="icon" />
                <input class="form-input" type="text" id="name" name="name" placeholder="Change Tab Name" />
                <div class="button-group">
                  <button id="save-tab-cloak-btn" class="btn btn-primary">
                    Save
                  </button>
                  <button id="reset-tab-cloak-btn" class="btn btn-secondary">
                    Reset Cloak
                  </button>
                </div>
              </div>
            </div>

            <!-- Search Engine -->
            <div class="card settings-card">
              <div class="card-header">
                <h3 class="card-title">Search Engine</h3>
                <p class="card-description">Change the search engine when searching.</p>
              </div>
              <div class="settings-controls">
                <select title="engine" id="engine" class="form-select">
                  <option value="Google">Google (Default)</option>
                  <option value="Bing">Bing</option>
                  <option value="DuckDuckGo">DuckDuckGo</option>
                  <option value="Qwant">Qwant</option>
                  <option value="Startpage">Startpage</option>
                  <option value="SearchEncrypt">SearchEncrypt</option>
                  <option value="Ecosia">Ecosia</option>
                </select>
                <input class="form-input" type="text" id="engine-form" placeholder="Change Search Engine" name="engine" />
                <button id="save-engine-btn" class="btn btn-primary">Save</button>
              </div>
            </div>

            <!-- Proxy Choice -->
            <div class="card settings-card">
              <div class="card-header">
                <h3 class="card-title">Choose your <b>Pr</b>oxy</h3>
                <p class="card-description">
                  Ultra<xn>vio</xn>let is the main <xn>pro</xn>xy, but Dynamic is faster and supports more sites! (Dynamic is
                  still in beta, so it has some bugs.)
                </p>
              </div>
              <div class="settings-controls">
                <select id="pChange" class="form-select">
                  <option value="uv">Ultraviolet (Default)</option>
                  <option value="dy">Dynamic</option>
                </select>
              </div>
            </div>

            <!-- Background Image -->
            <div class="card settings-card">
              <div class="card-header">
                <h3 class="card-title">Set Background Image</h3>
                <p class="card-description">Change the site's background image.</p>
              </div>
              <div class="settings-controls">
                <input type="text" id="background-input" class="form-input" placeholder="Enter image URL" />
                <div class="button-group">
                  <button class="btn btn-primary" id="save-button">Save</button>
                  <button class="btn btn-secondary" id="reset-button">Reset</button>
                </div>
              </div>
            </div>

            <!-- Advertisement -->
            <div class="card settings-card">
              <div class="card-header">
                <h3 class="card-title">Advertisement</h3>
                <p class="card-description">
                  Advertisements are crucial in order to keep the site running. Please consider donating or hosting your own
                  links to go ad-free. If not, you can still disable them below.
                </p>
              </div>
              <div class="settings-controls">
                <select id="adType" class="form-select">
                  <option value="default">Default</option>
                  <option value="off">Off</option>
                </select>
              </div>
            </div>

            <!-- Particles -->
            <div class="card settings-card">
              <div class="card-header">
                <h3 class="card-title">Particles</h3>
                <p class="card-description">Add the particles that are from the previous version to the new site.</p>
              </div>
              <div class="settings-controls">
                <label class="switch">
                  <input type="checkbox" class="slider-checkbox" id="2" />
                  <span class="switch-slider"></span>
                </label>
              </div>
            </div>

            <!-- Authentication -->
            <div class="card settings-card">
              <div class="card-header">
                <h3 class="card-title">ğŸ” KEY Authentication</h3>
                <p class="card-description">
                  Protect SlowGuardian access with username and password authentication. When enabled, users must login to access the proxy.
                </p>
              </div>
              <div class="settings-controls">
                <label class="switch">
                  <input type="checkbox" class="slider-checkbox" id="auth-toggle" />
                  <span class="switch-slider"></span>
                  <span class="switch-label">Enable Authentication</span>
                </label>
                
                <div class="auth-credentials" id="auth-credentials" style="display: none; margin-top: 16px;">
                  <div class="input-group">
                    <label for="auth-username-setting">Username:</label>
                    <input type="text" id="auth-username-setting" class="form-input" placeholder="Enter username" />
                  </div>
                  <div class="input-group">
                    <label for="auth-password-setting">Password:</label>
                    <input type="password" id="auth-password-setting" class="form-input" placeholder="Enter password" />
                  </div>
                  <button id="save-auth-btn" class="btn btn-primary">Save Credentials</button>
                </div>
              </div>
            </div>

            <!-- Themes -->
            <div class="card settings-card">
              <div class="card-header">
                <h3 class="card-title">Themes!</h3>
                <p class="card-description">Pick from a variety of themes!</p>
              </div>
              <div class="settings-controls">
                <select placeholder="Themes" id="theme-dropdown" class="form-select">
                  <option value="d">Default</option>
                  <option disabled>â”€â”€â”€â”€â”€â”€ Modern Themes â”€â”€â”€â”€â”€â”€</option>
                  <option value="cyberpunk">ğŸ”® Cyberpunk</option>
                  <option value="ocean">ğŸŒŠ Ocean</option>
                  <option value="sunset">ğŸŒ… Sunset</option>
                  <option disabled>â”€â”€â”€â”€â”€â”€ Catppuccin Themes â”€â”€â”€â”€â”€â”€</option>
                  <option value="catppuccinMocha">ğŸŒ™ Mocha (Dark)</option>
                  <option value="catppuccinMacchiato">â˜• Macchiato</option>
                  <option value="catppuccinFrappe">ğŸ¥¤ Frappe</option>
                  <option value="catppuccinLatte">â˜€ï¸ Latte (Light)</option>
                </select>
                <div class="button-group">
                  <button id="create-custom-theme-btn" class="btn btn-secondary">ğŸ¨ Create Custom Theme</button>
                  <button id="export-theme-btn" class="btn btn-secondary">ğŸ“¤ Export Current</button>
                  <button id="import-theme-btn" class="btn btn-secondary">ğŸ“¥ Import Theme</button>
                </div>
              </div>
            </div>

            <!-- Developer Mode Admin Panel -->
            <div class="card settings-card" id="admin-panel" style="display: none;">
              <div class="card-header">
                <h3 class="card-title">ğŸ› ï¸ Developer Mode</h3>
                <p class="card-description">Administrative controls for website hosting and user management</p>
              </div>
              <div class="settings-controls">
                <div class="admin-login" id="admin-login">
                  <div class="input-group">
                    <label for="admin-username">Admin Username:</label>
                    <input type="text" id="admin-username" class="form-input" placeholder="Enter admin username" />
                  </div>
                  <div class="input-group">
                    <label for="admin-password">Admin Password:</label>
                    <input type="password" id="admin-password" class="form-input" placeholder="Enter admin password" />
                  </div>
                  <button id="admin-login-btn" class="btn btn-primary">Login to Admin Panel</button>
                </div>
                
                <div class="admin-dashboard" id="admin-dashboard" style="display: none;">
                  <div class="admin-stats">
                    <div class="stat-card">
                      <h4>Online Users</h4>
                      <span id="online-users-count">0</span>
                    </div>
                    <div class="stat-card">
                      <h4>Total Admins</h4>
                      <span id="total-admins-count">0</span>
                    </div>
                    <div class="stat-card">
                      <h4>Site Status</h4>
                      <span id="site-status">Active</span>
                    </div>
                  </div>
                  
                  <div class="admin-controls">
                    <div class="control-section">
                      <h4>Global Controls</h4>
                      <div class="button-group">
                        <button id="pause-site-btn" class="btn btn-warning">â¸ï¸ Pause Site</button>
                        <button id="unpause-site-btn" class="btn btn-success" style="display: none;">â–¶ï¸ Unpause Site</button>
                        <button id="refresh-stats-btn" class="btn btn-secondary">ğŸ”„ Refresh</button>
                      </div>
                    </div>
                    
                    <div class="control-section">
                      <h4>User Management</h4>
                      <button id="view-users-btn" class="btn btn-primary">ğŸ‘¥ View Online Users</button>
                      <button id="manage-accounts-btn" class="btn btn-secondary">ğŸ” Manage Accounts</button>
                    </div>
                  </div>
                  
                  <button id="admin-logout-btn" class="btn btn-secondary">Logout</button>
                </div>
              </div>
            </div>

            <!-- Developer Mode Access -->
            <div class="card settings-card developer-access">
              <div class="card-header">
                <h3 class="card-title">ğŸ› ï¸ Developer Mode</h3>
                <p class="card-description">Access advanced administrative controls, user management, and developer-only features</p>
              </div>
              <div class="settings-controls">
                <div class="developer-info">
                  <div class="developer-features">
                    <div class="dev-feature">
                      <span class="dev-icon">ğŸ‘¥</span>
                      <span class="dev-text">User Management</span>
                    </div>
                    <div class="dev-feature">
                      <span class="dev-icon">ğŸŒ</span>
                      <span class="dev-text">Global Site Controls</span>
                    </div>
                    <div class="dev-feature">
                      <span class="dev-icon">ğŸ›¡ï¸</span>
                      <span class="dev-text">Advanced Security</span>
                    </div>
                    <div class="dev-feature">
                      <span class="dev-icon">ğŸ¤–</span>
                      <span class="dev-text">ChatGPT Integration</span>
                    </div>
                  </div>
                </div>
                <a href="/developer" class="btn btn-primary btn-block">
                  ğŸšª Access Developer Mode
                </a>
              </div>
            </div>

            <!-- Site Info -->
            <div class="card settings-card">
              <div class="card-header">
                <h3 class="card-title">Site Info</h3>
                <p class="card-description">Version: 9</p>
                <p class="card-description" id="last-updated">Last Updated: December 2024</p>
                <a href="/tos" class="card-description" style="color: var(--accent-primary)">
                  By using SlowGuardian, you agree you understand and acknowledge our Terms of Service and Privacy Policy.
                </a>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-content">
        <div class="footer-section">
          <h4>SlowGuardian v9</h4>
          <p>Modern web proxy with extensible plugin system</p>
        </div>
        <div class="footer-section">
          <h4>Features</h4>
          <ul>
            <li>Secure browsing</li>
            <li>Tab cloaking</li>
            <li>Plugin system</li>
            <li>Modern UI</li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Links</h4>
          <ul>
            <li><a href="https://github.com/zgr2575/SlowGuardian">GitHub</a></li>
            <li><a href="/docs">Documentation</a></li>
            <li><a href="/api/info">API</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2024 SlowGuardian. Licensed under GPL-3.0.</p>
      </div>
    </footer>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loading">
      <div class="loading-spinner"></div>
      <div class="loading-text">Loading...</div>
    </div>

    <!-- Custom Theme Creator Modal -->
    <div id="custom-theme-modal" class="modal" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h3>ğŸ¨ Create Custom Theme</h3>
          <button class="modal-close" id="close-theme-modal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="theme-creator-grid">
            <div class="theme-inputs">
              <div class="input-group">
                <label for="theme-name">Theme Name</label>
                <input type="text" id="theme-name" class="form-input" placeholder="My Awesome Theme" />
              </div>
              
              <div class="color-inputs">
                <div class="color-input-row">
                  <label for="primary-bg-color">Primary Background</label>
                  <input type="color" id="primary-bg-color" value="#1a1a2e" />
                </div>
                
                <div class="color-input-row">
                  <label for="secondary-bg-color">Secondary Background</label>
                  <input type="color" id="secondary-bg-color" value="#16213e" />
                </div>
                
                <div class="color-input-row">
                  <label for="accent-color">Accent Color</label>
                  <input type="color" id="accent-color" value="#0f3460" />
                </div>
                
                <div class="color-input-row">
                  <label for="text-primary-color">Primary Text</label>
                  <input type="color" id="text-primary-color" value="#ffffff" />
                </div>
                
                <div class="color-input-row">
                  <label for="text-secondary-color">Secondary Text</label>
                  <input type="color" id="text-secondary-color" value="#b8bcc8" />
                </div>
                
                <div class="color-input-row">
                  <label for="gradient-start-color">Gradient Start</label>
                  <input type="color" id="gradient-start-color" value="#1a1a2e" />
                </div>
                
                <div class="color-input-row">
                  <label for="gradient-end-color">Gradient End</label>
                  <input type="color" id="gradient-end-color" value="#16213e" />
                </div>
              </div>
            </div>
            
            <div class="theme-preview">
              <h4>Live Preview</h4>
              <div id="theme-preview-container">
                <div class="preview-navbar">
                  <span class="preview-brand">ğŸ›¡ï¸ SlowGuardian</span>
                  <div class="preview-nav-links">
                    <span>ğŸ  Home</span>
                    <span>ğŸ“± Apps</span>
                    <span>ğŸ® Games</span>
                  </div>
                </div>
                <div class="preview-content">
                  <h2>SlowGuardian</h2>
                  <p>Your gateway to unrestricted web browsing</p>
                  <div class="preview-card">
                    <h3>Sample Card</h3>
                    <p>This is how cards will look with your theme</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button id="save-custom-theme-btn" class="btn btn-primary">ğŸ’¾ Save Theme</button>
          <button id="apply-theme-preview-btn" class="btn btn-secondary">ğŸ‘ï¸ Apply Preview</button>
          <button id="cancel-theme-btn" class="btn btn-secondary">Cancel</button>
        </div>
      </div>
    </div>

    <!-- Import Theme Modal -->
    <div id="import-theme-modal" class="modal" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h3>ğŸ“¥ Import Custom Theme</h3>
          <button class="modal-close" id="close-import-modal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="input-group">
            <label for="theme-import-data">Paste Theme Data (JSON)</label>
            <textarea id="theme-import-data" class="form-textarea" rows="10" placeholder='{"name":"Theme Name","primaryBg":"#1a1a2e",...}'></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <button id="import-theme-confirm-btn" class="btn btn-primary">Import Theme</button>
          <button id="cancel-import-btn" class="btn btn-secondary">Cancel</button>
        </div>
      </div>
    </div>

    <!-- User Management Modal -->
    <div id="user-management-modal" class="modal" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h3>ğŸ‘¥ User Management</h3>
          <button class="modal-close" id="close-user-modal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="user-list" id="user-list">
            <div class="loading-text">Loading users...</div>
          </div>
          
          <div class="user-actions" style="margin-top: 20px;">
            <h4>Block Website for User</h4>
            <div class="input-group">
              <select id="select-user" class="form-select">
                <option value="">Select a user...</option>
              </select>
              <input type="text" id="block-domain" class="form-input" placeholder="Enter domain (e.g., youtube.com)" />
              <button id="block-site-btn" class="btn btn-warning">Block Site</button>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button id="refresh-users-btn" class="btn btn-secondary">ğŸ”„ Refresh</button>
          <button id="close-user-management-btn" class="btn btn-secondary">Close</button>
        </div>
      </div>
    </div>

    <!-- Account Management Modal -->
    <div id="account-management-modal" class="modal" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h3>ğŸ” Account Management</h3>
          <button class="modal-close" id="close-account-modal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="account-section">
            <h4>Create New Admin Account</h4>
            <div class="input-group">
              <label for="new-admin-username">Username:</label>
              <input type="text" id="new-admin-username" class="form-input" placeholder="Enter username" />
            </div>
            <div class="input-group">
              <label for="new-admin-password">Password:</label>
              <input type="password" id="new-admin-password" class="form-input" placeholder="Enter password" />
            </div>
            <div class="input-group">
              <label for="new-admin-role">Role:</label>
              <select id="new-admin-role" class="form-select">
                <option value="admin">Admin</option>
                <option value="super_admin">Super Admin</option>
              </select>
            </div>
            <button id="create-admin-btn" class="btn btn-primary">Create Account</button>
          </div>
          
          <div class="account-section" style="margin-top: 30px;">
            <h4>Existing Admin Accounts</h4>
            <div class="admin-list" id="admin-list">
              <div class="loading-text">Loading accounts...</div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button id="refresh-accounts-btn" class="btn btn-secondary">ğŸ”„ Refresh</button>
          <button id="close-account-management-btn" class="btn btn-secondary">Close</button>
        </div>
      </div>
    </div>

    <!-- Global Pause Modal -->
    <div id="pause-modal" class="modal" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h3>â¸ï¸ Pause Site Globally</h3>
          <button class="modal-close" id="close-pause-modal">&times;</button>
        </div>
        <div class="modal-body">
          <p>This will temporarily disable the site for all users with a maintenance-style message.</p>
          <div class="input-group">
            <label for="pause-password">Set Pause Password:</label>
            <input type="password" id="pause-password" class="form-input" placeholder="Enter password to unpause later" required />
          </div>
          <div class="warning-box">
            <strong>âš ï¸ Warning:</strong> Users will see a "SlowGuardian is paused" message and won't be able to access the site until you unpause it with this password.
          </div>
        </div>
        <div class="modal-footer">
          <button id="confirm-pause-btn" class="btn btn-warning">Pause Site</button>
          <button id="cancel-pause-btn" class="btn btn-secondary">Cancel</button>
        </div>
      </div>
    </div>

    <!-- App Scripts -->
    <!-- Cookie Utilities (Load first) -->
    <script src="assets/scripts/cookie-utils.js?v=1"></script>
    
    <!-- Enhanced Features System -->
    <script src="assets/scripts/v9/features.js?v=1"></script>
    <script src="assets/scripts/v9/features-manager.js?v=1"></script>
    <!-- Legacy Settings Script -->
    <script src="assets/scripts/custom-dropdown.js?v=1"></script>
    <script src="assets/scripts/auth.js?v=1"></script>
    <script src="assets/scripts/screenshot-protection.js?v=1"></script>
    <script src="assets/scripts/admin.js?v=1"></script>
    <script src="assets/scripts/settings.js?v=21"></script>
    <script src="assets/scripts/main.js?v=31"></script>
    
    <!-- New v9 Systems -->
    <script src="assets/scripts/plugin-system.js?v=1"></script>
    <script src="assets/scripts/performance-mode.js?v=1"></script>
    <script src="assets/scripts/moveable-buttons.js?v=1"></script>

    <div id="adv"></div>
  </body>
</html>
