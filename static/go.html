<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="referrer" content="no-referrer" />
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <title id="tab-title">SlowGuardian v9 - Browser</title>

    <!-- Favicon -->
    <link rel="shortcut icon" id="tab-favicon" href="favicon.png" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
      rel="stylesheet"
    />

    <!-- Styles -->
    <link rel="stylesheet" href="assets/styles/v9/reset.css" />
    <link rel="stylesheet" href="assets/styles/v9/variables.css" />
    <link rel="stylesheet" href="assets/styles/v9/main.css" />
    <link rel="stylesheet" href="assets/styles/v9/components.css" />
    <link rel="stylesheet" href="assets/styles/v9/animations.css" />

    <!-- Browser specific styles -->
    <style>
      /* Hide old navbar for centralized navigation */
      .navbar {
        display: none !important;
      }

      /* Browser specific overrides */
      .browser-container {
        display: flex;
        flex-direction: column;
        height: 100vh;
        position: relative;
        z-index: 1;
        /* Add left padding for sidebar */
        padding-left: 70px;
        transition: padding-left 0.3s ease;
      }

      /* Expand container when sidebar is expanded */
      body:has(.sidebar-nav:hover) .browser-container {
        padding-left: 280px;
      }

      .browser-toolbar {
        background: rgba(10, 10, 15, 0.95);
        backdrop-filter: blur(15px);
        border-bottom: 1px solid var(--border-primary);
        padding: var(--space-3);
        display: flex;
        align-items: center;
        gap: var(--space-3);
        flex-wrap: wrap;
        position: sticky;
        top: 0; /* Changed from 64px since old navbar is hidden */
        z-index: var(--z-modal);
      }

      .browser-nav-controls {
        display: flex;
        align-items: center;
        gap: var(--space-2);
      }

      .browser-address-bar {
        flex: 1;
        min-width: 200px;
        position: relative;
      }

      .browser-address-input {
        width: 100%;
        padding: var(--space-3) var(--space-4);
        background: var(--bg-tertiary);
        border: 1px solid var(--border-primary);
        border-radius: var(--radius-lg);
        color: var(--text-primary);
        font-size: var(--font-size-sm);
        transition: all var(--transition-base);
      }

      .browser-address-input:focus {
        outline: none;
        border-color: var(--accent-primary);
        background: var(--bg-secondary);
        box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
      }

      .browser-address-input::placeholder {
        color: var(--text-secondary);
      }

      .browser-utility-controls {
        display: flex;
        align-items: center;
        gap: var(--space-2);
      }

      .browser-iframe {
        flex: 1;
        border: none;
        width: 100%;
        background: var(--bg-primary);
      }

      .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        display: none;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        z-index: var(--z-modal);
        text-align: center;
      }

      .overlay h1 {
        color: var(--text-primary);
        margin-bottom: var(--space-4);
      }

      .overlay p {
        color: var(--text-secondary);
        max-width: 400px;
      }

      .overlay a {
        color: var(--accent-primary);
        text-decoration: underline;
      }

      /* Loading bar styles */
      .loading-bar {
        position: absolute;
        top: 0;
        left: 0;
        width: 0%;
        height: 3px;
        background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
        transition: width 0.3s ease;
        z-index: 1000;
      }

      .loading-bar.active {
        animation: loadingProgress 2s ease-out forwards;
      }

      @keyframes loadingProgress {
        0% {
          width: 0%;
        }
        50% {
          width: 70%;
        }
        100% {
          width: 100%;
        }
      }

      /* Loading overlay with spinner and tips */
      .loading-overlay {
        position: absolute;
        top: 64px;
        left: 0;
        width: 100%;
        height: calc(100% - 64px);
        background: var(--bg-primary);
        display: none;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        z-index: 999;
        gap: var(--space-6);
      }

      .loading-overlay.active {
        display: flex;
      }

      .loading-spinner {
        width: 60px;
        height: 60px;
        border: 4px solid rgba(79, 70, 229, 0.1);
        border-left: 4px solid var(--accent-primary);
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .loading-content {
        text-align: center;
        max-width: 400px;
        padding: 0 var(--space-4);
      }

      .loading-title {
        font-size: var(--font-size-xl);
        font-weight: 600;
        color: var(--text-primary);
        margin-bottom: var(--space-3);
      }

      .loading-tip {
        font-size: var(--font-size-sm);
        color: var(--text-secondary);
        margin-bottom: var(--space-4);
        min-height: 20px;
        opacity: 0;
        animation: fadeInTip 0.5s ease-in-out forwards;
      }

      @keyframes fadeInTip {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .loading-steps {
        display: flex;
        align-items: center;
        gap: var(--space-2);
        margin-top: var(--space-4);
      }

      .loading-step {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: rgba(79, 70, 229, 0.2);
        transition: background 0.3s ease;
      }

      .loading-step.active {
        background: var(--accent-primary);
      }

      .loading-step.completed {
        background: var(--success, #10b981);
      }
      @media (max-width: 768px) {
        .browser-toolbar {
          padding: var(--space-2);
          gap: var(--space-2);
        }

        .browser-nav-controls {
          order: 2;
          width: 100%;
          justify-content: center;
        }

        .browser-address-bar {
          order: 1;
          width: 100%;
        }

        .browser-utility-controls {
          order: 3;
          width: 100%;
          justify-content: center;
        }

        .nav-container {
          padding: 0 var(--space-3);
        }

        .nav-links {
          display: none;
        }

        .nav-mobile-toggle {
          display: block;
        }
      }

      @media (max-width: 480px) {
        .browser-nav-controls {
          gap: var(--space-1);
        }

        .btn-icon {
          padding: var(--space-1);
          font-size: var(--font-size-sm);
        }

        .browser-address-input {
          padding: var(--space-2) var(--space-3);
          font-size: var(--font-size-xs);
        }
      }

      /* Fullscreen mode */
      .fullscreen .navbar,
      .fullscreen .browser-toolbar {
        display: none;
      }

      .fullscreen .browser-iframe {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: var(--z-modal);
      }
    </style>

    <!-- Progressive Web App -->
    <meta name="theme-color" content="#1a1a2e" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  </head>
  <body>
    <!-- Background -->
    <div class="background">
      <div class="bg-gradient"></div>
      <div class="bg-particles" id="particles"></div>
      <div class="bg-overlay"></div>
    </div>

    <!-- Navigation -->
    <nav class="navbar" id="navbar">
      <div class="nav-container">
        <div class="nav-brand">
          <span class="brand-icon">üõ°Ô∏è</span>
          <span class="brand-text">SlowGuardian</span>
          <span class="brand-version">v9</span>
        </div>

        <div class="nav-links">
          <a href="/" class="nav-link" data-page="home">
            <i class="icon">üè†</i>
            <span>Home</span>
          </a>
          <a href="/apps" class="nav-link" data-page="apps">
            <i class="icon">üì±</i>
            <span>Apps</span>
          </a>
          <a href="/games" class="nav-link" data-page="games">
            <i class="icon">üéÆ</i>
            <span>Games</span>
          </a>
          <a href="/settings" class="nav-link" data-page="settings">
            <i class="icon">‚öôÔ∏è</i>
            <span>Settings</span>
          </a>
        </div>

        <div class="nav-actions">
          <button class="btn-icon nav-mobile-toggle" style="display: none">
            <i class="icon">‚ò∞</i>
          </button>
        </div>
      </div>
    </nav>

    <!-- Browser Container -->
    <div class="browser-container">
      <!-- Browser Toolbar -->
      <div class="browser-toolbar">
        <!-- Loading Bar -->
        <div class="loading-bar" id="loading-bar"></div>

        <!-- Navigation Controls -->
        <div class="browser-nav-controls">
          <button title="Home Page" id="home-page" class="btn-icon">
            <i class="icon">üè†</i>
          </button>
          <button title="Back" id="back-button" class="btn-icon">
            <i class="icon">‚Üê</i>
          </button>
          <button title="Forward" id="forward-button" class="btn-icon">
            <i class="icon">‚Üí</i>
          </button>
          <button title="Reload" id="reload-button" class="btn-icon">
            <i class="icon">üîÑ</i>
          </button>
        </div>

        <!-- Address Bar -->
        <div class="browser-address-bar">
          <form id="fs">
            <input
              id="is"
              class="browser-address-input"
              placeholder="Search or enter a new URL..."
              type="text"
              autocomplete="url"
              spellcheck="false"
            />
          </form>
        </div>

        <!-- Utility Controls -->
        <div class="browser-utility-controls">
          <button title="Inspect Element" id="eruda-button" class="btn-icon">
            <i class="icon">üîç</i>
          </button>
          <button title="Open in New Window" id="popout-button" class="btn-icon">
            <i class="icon">üóó</i>
          </button>
          <button title="Fullscreen" id="fullscreen-button" class="btn-icon">
            <i class="icon">‚õ∂</i>
          </button>
        </div>
      </div>

      <!-- Enhanced Loading Overlay -->
      <div class="loading-overlay" id="loading-overlay">
        <div class="loading-spinner"></div>
        <div class="loading-content">
          <div class="loading-title" id="loading-title">Loading Website...</div>
          <div class="loading-tip" id="loading-tip">Preparing your browsing experience</div>
          <div class="loading-steps" id="loading-steps">
            <div class="loading-step" data-step="0"></div>
            <div class="loading-step" data-step="1"></div>
            <div class="loading-step" data-step="2"></div>
            <div class="loading-step" data-step="3"></div>
            <div class="loading-step" data-step="4"></div>
          </div>
        </div>
      </div>

      <!-- Loading Overlay -->
      <div class="overlay">
        <h1>Now.gg fix is being applied, please wait.</h1>
        <p>
          It should only take 1-2 minutes, if it takes longer
          <a href="https://support.google.com/accounts/answer/32050">clear your cache</a>
        </p>
      </div>

      <!-- Browser Iframe -->
      <iframe
        src=""
        id="ifra"
        class="browser-iframe"
        name="Browser Frame"
        title="Web Browser"
        allowfullscreen
        sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
      ></iframe>
    </div>
    <!-- Scripts -->
    <!-- Cookie Utilities (Load first) -->
    <script src="assets/scripts/cookie-utils.js?v=1"></script>

    <!-- Core Scripts -->
    <script src="assets/scripts/cookie-storage.js?v=1"></script>
    <script src="assets/scripts/index.js?v=14"></script>
    <script src="assets/scripts/screenshot-protection.js?v=1"></script>
    <script src="/assets/scripts/main.js?v=31"></script>

    <!-- Centralized Navigation -->
    <script src="assets/scripts/navbar.js?v=1"></script>

    <!-- Ads Manager -->
    <script src="assets/scripts/ads-manager.js?v=1"></script>

    <!-- Ultraviolet -->
    <script src="./m/bundle.js?v=5"></script>
    <script src="./m/config.js?v=5"></script>

    <!-- Service Worker Registration -->
    <script>
      // Global flags to track service worker readiness
      window.uvServiceWorkerReady = false;
      window.mainServiceWorkerReady = false;
      
      // Enhanced service worker registration with proper coordination
      (async function () {
        try {
          if ("serviceWorker" in navigator) {
            console.log("üîß Registering service workers...");
            
            // Register main service worker first
            try {
              const mainRegistration = await navigator.serviceWorker.register("/sw.js", {
                scope: "/",
              });
              
              await waitForServiceWorkerActivation(mainRegistration);
              window.mainServiceWorkerReady = true;
              console.log("‚úÖ Main service worker registered and ready");
            } catch (mainError) {
              console.warn("‚ö†Ô∏è Main service worker registration failed:", mainError);
            }
            
            // Register Ultraviolet service worker
            const uvRegistration = await navigator.serviceWorker.register("/a/sw.js", {
              scope: "/a/",
            });
            
            await waitForServiceWorkerActivation(uvRegistration);
            window.uvServiceWorkerReady = true;
            console.log("‚úÖ Ultraviolet service worker registered and ready");
            
            // Trigger any pending URL loads
            window.dispatchEvent(new Event('uvReady'));
            
          } else {
            console.warn("‚ö†Ô∏è Service worker not supported in this browser");
            // Still allow loading without service worker
            window.uvServiceWorkerReady = true;
            window.dispatchEvent(new Event('uvReady'));
          }
        } catch (error) {
          console.error("‚ùå Service worker registration failed:", error);
          // Allow fallback loading
          window.uvServiceWorkerReady = true;
          window.dispatchEvent(new Event('uvReady'));
        }
      })();
      
      // Helper function to wait for service worker activation
      async function waitForServiceWorkerActivation(registration) {
        if (registration.installing) {
          await new Promise((resolve) => {
            registration.installing.addEventListener('statechange', function() {
              if (this.state === 'activated') {
                resolve();
              }
            });
          });
        } else if (registration.waiting) {
          // Service worker is waiting, activate it
          registration.waiting.postMessage({type: 'SKIP_WAITING'});
          await new Promise((resolve) => {
            navigator.serviceWorker.addEventListener('controllerchange', resolve, {once: true});
          });
        }
        
        // Ensure we're controlled by the service worker
        if (!navigator.serviceWorker.controller) {
          await new Promise((resolve) => {
            navigator.serviceWorker.addEventListener('controllerchange', resolve, {once: true});
          });
        }
      }
    </script>

    <!-- URL extraction for direct /p/encoded_url access -->
    <script>
      // Extract encoded URL from path for direct /p/encoded_url access
      (function () {
        const path = window.location.pathname;
        console.log("Browser page loaded, checking path:", path);

        // Check if this is a direct /p/encoded_url access
        if (path.startsWith("/p/") && path.length > 3) {
          const encodedUrl = path.substring(3); // Remove '/p/' prefix
          console.log("Extracted encoded URL from path:", encodedUrl);

          if (encodedUrl && encodedUrl.trim()) {
            // Store the encoded URL in sessionStorage for frame.js to use
            sessionStorage.setItem("GoUrl", encodedUrl);
            console.log("Stored encoded URL in sessionStorage:", encodedUrl);

            // Set dy flag for proper proxy routing
            if (!localStorage.getItem("dy")) {
              localStorage.setItem("dy", "false"); // Default to regular UV proxy
            }
          }
        }
      })();
    </script>

    <script src="assets/scripts/frame.js?v=36"></script>

    <!-- Enhanced Browser Functionality -->
    <script>
      // Loading tips and system
      const loadingTips = [
        "SlowGuardian protects your privacy while browsing",
        "Use Ctrl+L or Cmd+L to quickly focus the address bar",
        "Your browsing activity is encrypted and secured",
        "Tab cloaking disguises your browser tab for privacy",
        "Try the about:blank popup feature for stealth browsing",
        "SlowGuardian works on mobile devices too!",
        "All your data stays private and secure",
        "Check out the Apps and Games sections for quick access",
        "Use the settings to customize your experience",
        "SlowGuardian v9 features a modern UI and enhanced performance",
      ];

      const loadingSteps = [
        "Initializing proxy connection...",
        "Establishing secure tunnel...",
        "Configuring privacy settings...",
        "Loading website content...",
        "Finalizing connection...",
      ];

      class BrowserLoadingSystem {
        constructor() {
          this.currentTip = 0;
          this.currentStep = 0;
          this.isLoading = false;
          this.tipInterval = null;
          this.stepInterval = null;

          this.loadingOverlay = document.getElementById("loading-overlay");
          this.loadingBar = document.getElementById("loading-bar");
          this.loadingTitle = document.getElementById("loading-title");
          this.loadingTip = document.getElementById("loading-tip");
          this.loadingSteps = document.getElementById("loading-steps");
        }

        startLoading(url = "") {
          if (this.isLoading) return;

          this.isLoading = true;
          this.currentTip = 0;
          this.currentStep = 0;

          // Show loading overlay
          this.loadingOverlay.classList.add("active");
          this.loadingBar.classList.add("active");

          // Update title with URL if provided
          if (url) {
            this.loadingTitle.textContent = `Loading ${this.getDisplayUrl(url)}...`;
          }

          // Start cycling through tips
          this.cycleTips();
          this.cycleSteps();

          // Auto-hide after a reasonable time
          setTimeout(() => {
            this.stopLoading();
          }, 3000);
        }

        stopLoading() {
          if (!this.isLoading) return;

          this.isLoading = false;

          // Clear intervals
          if (this.tipInterval) clearInterval(this.tipInterval);
          if (this.stepInterval) clearInterval(this.stepInterval);

          // Mark all steps as completed
          this.loadingSteps.querySelectorAll(".loading-step").forEach((step, index) => {
            step.classList.remove("active");
            step.classList.add("completed");
          });

          // Hide loading overlay after a short delay
          setTimeout(() => {
            this.loadingOverlay.classList.remove("active");
            this.loadingBar.classList.remove("active");

            // Reset steps
            setTimeout(() => {
              this.loadingSteps.querySelectorAll(".loading-step").forEach((step) => {
                step.classList.remove("active", "completed");
              });
            }, 500);
          }, 800);
        }

        cycleTips() {
          this.updateTip();
          this.tipInterval = setInterval(() => {
            this.currentTip = (this.currentTip + 1) % loadingTips.length;
            this.updateTip();
          }, 2000);
        }

        cycleSteps() {
          this.updateStep();
          this.stepInterval = setInterval(() => {
            if (this.currentStep < loadingSteps.length - 1) {
              // Mark current step as completed
              const currentStepElement = this.loadingSteps.querySelector(`[data-step="${this.currentStep}"]`);
              if (currentStepElement) {
                currentStepElement.classList.remove("active");
                currentStepElement.classList.add("completed");
              }

              this.currentStep++;
              this.updateStep();
            } else {
              if (this.stepInterval) clearInterval(this.stepInterval);
            }
          }, 600);
        }

        updateTip() {
          this.loadingTip.style.opacity = "0";
          setTimeout(() => {
            this.loadingTip.textContent = loadingTips[this.currentTip];
            this.loadingTip.style.opacity = "1";
          }, 250);
        }

        updateStep() {
          // Mark current step as active
          const stepElement = this.loadingSteps.querySelector(`[data-step="${this.currentStep}"]`);
          if (stepElement) {
            stepElement.classList.add("active");
          }

          // Update title with current step
          this.loadingTitle.textContent = loadingSteps[this.currentStep];
        }

        getDisplayUrl(url) {
          try {
            const urlObj = new URL(url.startsWith("http") ? url : "https://" + url);
            return urlObj.hostname;
          } catch {
            return url.length > 30 ? url.substring(0, 30) + "..." : url;
          }
        }
      }

      // Initialize loading system
      const browserLoading = new BrowserLoadingSystem();

      // Auto-start loading if we have a URL to load
      window.addEventListener("load", function () {
        const GoUrl = sessionStorage.getItem("GoUrl");
        if (GoUrl) {
          console.log("Auto-starting loading animation for URL:", GoUrl);
          browserLoading.startLoading();
        }
      });

      // Enhanced home function for the browser
      function goHome() {
        window.location.href = "./";
      }

      // Enhanced back function for the browser
      function goBack() {
        if (window.history.length > 1) {
          window.history.back();
        } else {
          goHome();
        }
      }

      // Enhanced forward function for the browser
      function goForward() {
        window.history.forward();
      }

      // Toggle fullscreen function for the browser
      function toggleFullscreen() {
        const iframe = document.getElementById("ifra");
        if (iframe) {
          if (!document.fullscreenElement) {
            iframe.requestFullscreen().catch((err) => {
              console.warn("Could not enable fullscreen mode:", err.message);
            });
          } else {
            document.exitFullscreen();
          }
        }
      }

      // Mobile navigation toggle
      document.addEventListener("DOMContentLoaded", function () {
        const mobileToggle = document.querySelector(".nav-mobile-toggle");
        const navLinks = document.querySelector(".nav-links");

        if (mobileToggle && navLinks) {
          mobileToggle.addEventListener("click", function () {
            navLinks.style.display = navLinks.style.display === "flex" ? "none" : "flex";
          });
        }

        // Auto-hide mobile menu on window resize
        window.addEventListener("resize", function () {
          if (window.innerWidth > 768 && navLinks) {
            navLinks.style.display = "";
          }
        });

        // Set up browser controls
        const backButton = document.getElementById("back-button");
        const forwardButton = document.getElementById("forward-button");
        const reloadButton = document.getElementById("reload-button");
        const homeButton = document.getElementById("home-page");
        const erudaButton = document.getElementById("eruda-button");
        const popoutButton = document.getElementById("popout-button");
        const fullscreenButton = document.getElementById("fullscreen-button");
        const iframe = document.getElementById("ifra");

        if (backButton) {
          backButton.addEventListener("click", goBack);
        }

        if (forwardButton) {
          forwardButton.addEventListener("click", goForward);
        }

        if (reloadButton) {
          reloadButton.addEventListener("click", function () {
            if (iframe) {
              iframe.src = iframe.src;
            }
          });
        }

        if (homeButton) {
          homeButton.addEventListener("click", goHome);
        }

        if (erudaButton) {
          erudaButton.addEventListener("click", function () {
            if (typeof erudaToggle === "function") {
              erudaToggle();
            }
          });
        }

        if (popoutButton) {
          popoutButton.addEventListener("click", function () {
            if (typeof popout === "function") {
              popout();
            }
          });
        }

        if (fullscreenButton) {
          fullscreenButton.addEventListener("click", toggleFullscreen);
        }

        if (iframe) {
          iframe.addEventListener("load", function () {
            // Stop loading when iframe loads
            browserLoading.stopLoading();

            if (typeof iframeLoad === "function") {
              iframeLoad();
            }
          });
        }

        // Override form submission to show loading
        const form = document.getElementById("fs");
        if (form) {
          form.addEventListener("submit", function (e) {
            const addressInput = document.getElementById("is");
            if (addressInput && addressInput.value.trim()) {
              browserLoading.startLoading(addressInput.value.trim());
            }
          });
        }

        // Enhanced keyboard navigation
        const addressInput = document.getElementById("is");
        if (addressInput) {
          // Focus address bar with Ctrl+L or Cmd+L
          document.addEventListener("keydown", function (e) {
            if ((e.ctrlKey || e.metaKey) && e.key === "l") {
              e.preventDefault();
              addressInput.focus();
              addressInput.select();
            }
          });

          // Enhanced address bar behavior
          addressInput.addEventListener("focus", function () {
            this.select();
          });
        }

        // Responsive iframe handling
        function updateIframeHeight() {
          const iframe = document.getElementById("browser-iframe");
          const toolbar = document.querySelector(".browser-toolbar");

          if (iframe && toolbar) {
            const toolbarHeight = toolbar.offsetHeight;
            // No navbar height since old navbar is hidden
            const availableHeight = window.innerHeight - toolbarHeight;
            iframe.style.height = availableHeight + "px";
          }
        }

        // Update iframe height on load and resize
        updateIframeHeight();
        window.addEventListener("resize", updateIframeHeight);
      });

      // Enhanced error handling
      window.addEventListener("error", function (e) {
        console.error("Browser error:", e.error);
      });

      // Particles background (matching other v9 pages)
      function createParticles() {
        const particlesContainer = document.getElementById("particles");
        if (!particlesContainer) return;

        for (let i = 0; i < 50; i++) {
          const particle = document.createElement("div");
          particle.style.cssText = `
            position: absolute;
            width: 2px;
            height: 2px;
            background: rgba(79, 70, 229, 0.6);
            border-radius: 50%;
            top: ${Math.random() * 100}%;
            left: ${Math.random() * 100}%;
            animation: float ${3 + Math.random() * 4}s ease-in-out infinite;
            animation-delay: ${Math.random() * 2}s;
          `;
          particlesContainer.appendChild(particle);
        }
      }

      // Add particle animation CSS
      const particleStyles = document.createElement("style");
      particleStyles.textContent = `
        @keyframes float {
          0%, 100% { transform: translateY(0px); opacity: 0.6; }
          50% { transform: translateY(-20px); opacity: 1; }
        }
      `;
      document.head.appendChild(particleStyles);

      // Initialize particles
      createParticles();
    </script>
  </body>
</html>
